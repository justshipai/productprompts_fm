<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Journal</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- Add any necessary CSS or JavaScript files -->
</head>

<body>
  <h1>Welcome to the Journal</h1>
  <!-- Add your ChatGPT chatbot implementation here -->
  <div id="chatbot">
  <div id="messages"></div>
  <input id="user-input" type="text" placeholder="What's on your mind?" />
  <button id="send-button">Send</button>
</div>

</body>

</html>
<script>
  const API_KEY = "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"; // Replace with your actual API key
  const headers = {
    "Content-Type": "application/json",
    Authorization: `Bearer ${API_KEY}`,
  };

  const messages = document.getElementById("messages");
  const userInput = document.getElementById("user-input");
  const sendButton = document.getElementById("send-button");

  function sendMessageToAPI(message) {
    axios
      .post(
        "https://api.openai.com/v1/engines/davinci-codex/completions",
        {
          prompt: message,
          max_tokens: 50,
          n: 1,
          stop: null,
          temperature: 1,
        },
        { headers }
      )
      .then((response) => {
        const reply = response.data.choices[0].text.trim();
        displayMessage(reply, "bot");
      })
      .catch((error) => {
        console.error(error);
      });
  }

  function displayMessage(message, sender) {
    const messageElement = document.createElement("p");
    messageElement.textContent = `${sender}: ${message}`;
    messages.appendChild(messageElement);
  }

  sendButton.addEventListener("click", () => {
    const message = userInput.value;
    displayMessage(message, "user");
    sendMessageToAPI(`You are my daily journal chatbot. Whenever I say "new day", you ask "what's up?" and based on my response you provide a mixture of motivational prompts, encouragement and specific suggestions for getting things done that I mention need attention. You encourage lateral thinking, getting me to approach situations with consideration, empathy and a fresh perspective. Like a lemon squeezer, but for the brain. Your tone of voice is in the style of Gary Vee: ${message}`);
    userInput.value = "";
  });

  userInput.addEventListener("keydown", (event) => {
    if (event.key === "Enter") {
      event.preventDefault();
      sendButton.click();
    }
  });
</script>
